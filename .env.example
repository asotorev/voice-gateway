# VOICE GATEWAY - PRODUCTION ENVIRONMENT CONFIGURATION

# ENVIRONMENT & DEPLOYMENT
ENVIRONMENT=production
STAGE=prod
IS_PRODUCTION=true

# API CONFIGURATION
API_VERSION=v1
API_TITLE="Voice Gateway API"
API_DESCRIPTION="Biometric voice authentication system"
APP_HOST=0.0.0.0
APP_PORT=8080
APP_PROTOCOL=https
LOG_LEVEL=INFO
LOG_FORMAT=json

# AWS CREDENTIALS & REGION
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_ACCESS_KEY

# DYNAMODB CONFIGURATION
USERS_TABLE_NAME=voice-gateway-users-prod
DYNAMODB_PASSWORD_GSI_NAME=password-hash-index

# S3 CONFIGURATION
S3_BUCKET_NAME=voice-gateway-audio-prod-275794523564
S3_USE_SSL=true
S3_SIGNATURE_VERSION=s3v4

# AUDIO STORAGE CONFIGURATION
AUDIO_BASE_URL=s3://voice-gateway-audio-prod
AUDIO_UPLOAD_EXPIRATION_MINUTES=15
AUDIO_DOWNLOAD_EXPIRATION_MINUTES=60
MAX_AUDIO_FILE_SIZE_MB=10
ALLOWED_AUDIO_FORMATS=wav,mp3,m4a
MAX_AUDIO_FILE_SIZE_BYTES=10485760
SUPPORTED_AUDIO_FORMATS=["wav","mp3","m4a","flac"]
REQUIRED_AUDIO_SAMPLES=3

# LAMBDA CONFIGURATION
# Lambda Function Settings
LAMBDA_FUNCTION_NAME=audio-embedding-processor-prod
LAMBDA_TIMEOUT=900
LAMBDA_MEMORY_SIZE=3008
LAMBDA_RUNTIME=python3.9

# Lambda Processing Settings
LAMBDA_MAX_RETRIES=3
LAMBDA_CONCURRENT_EXECUTIONS=20
LAMBDA_LOG_LEVEL=WARN

# RESEMBLYZER/EMBEDDING CONFIGURATION
VOICE_EMBEDDING_DIMENSIONS=256
USE_MOCK_EMBEDDING_SERVICE=false
EMBEDDING_PROCESSOR_TYPE=resemblyzer

# VOICE AUTHENTICATION CONFIGURATION
VOICE_AUTH_THRESHOLD=0.80
VOICE_AUTH_MIN_SIMILARITY=0.75
VOICE_AUTH_HIGH_CONFIDENCE=0.85

# OPENAI CONFIGURATION
OPENAI_API_KEY=YOUR_OPENAI_API_KEY
TRANSCRIPTION_MODEL=whisper-1
TRANSCRIPTION_LANGUAGE=es
TRANSCRIPTION_CONFIDENCE_THRESHOLD=0.7
TRANSCRIPTION_TIMEOUT=30

# PASSWORD VALIDATION CONFIGURATION
EXPECTED_WORD_COUNT=2
WORD_SEPARATOR=-
MIN_WORD_LENGTH=3

# SECURITY & AUTHENTICATION
API_SECRET_KEY=YOUR_AWS_SECRET_ACCESS_KEY
JWT_SECRET_KEY=your_production_jwt_secret_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Password Generation Settings
PASSWORD_LENGTH=12
PASSWORD_SPECIAL_CHARS="@#$%^&*"
MAX_GENERATION_ATTEMPTS=10

# LAMBDA DEPLOYMENT CONFIGURATION
# Serverless Framework Settings
SERVERLESS_SERVICE_NAME=voice-gateway-prod
SERVERLESS_PROVIDER_NAME=aws

# IAM Role Settings
LAMBDA_EXECUTION_ROLE_NAME=VoiceGatewayLambdaExecutionRole-prod
LAMBDA_S3_ACCESS_ROLE_NAME=VoiceGatewayS3AccessRole-prod

# S3 Event Triggers
S3_TRIGGER_EVENT=s3:ObjectCreated:*
S3_TRIGGER_PREFIX=audio-uploads/
S3_AUTH_PREFIX=voice-auth/

# Lambda Layers
LAMBDA_LAYER_NAME=resemblyzer-layer-prod
LAMBDA_LAYER_RUNTIME=python3.9

# MONITORING & LOGGING
# CloudWatch Settings
CLOUDWATCH_LOG_GROUP=/aws/lambda/voice-gateway-prod
CLOUDWATCH_LOG_RETENTION_DAYS=30

# PRODUCTION SECURITY
# Mock Services (disabled in production)
USE_MOCK_REPOSITORIES=false
USE_MOCK_STORAGE=false
USE_MOCK_EMBEDDING_SERVICE=false
